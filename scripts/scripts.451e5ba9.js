"use strict";function DashboardCtrl(a){a.page.title="Dashboard"}function LoginCtrl(a,b,c){var d=function(){c.go("main.dashboard")},e=function(b){console.log(b),a.errors=b.plainMessage()};a.loginUser=function(a){b.login(a).$promise.then(d).catch(e)}}function MainCtrl(a,b,c){a.openFileManager=function(){var a={fileTypes:["image"],uploadOnly:!0,multipleFiles:!1};c.open(a).then(function(a){b.profile_image=a[0].url,b.$update()})},a.page={title:""},a.default={profile_image:"http://assets3.stag-br-app-s5.brenv.net/images/redesign/avatars/default-user-icon-profile.png?1410309050"},a.authUser=b,a.dropdown={notifications:[{text:"Show All notifications",href:"#/notifications"}],users:[{text:"Show All users",href:"#/users"}]};a.toggleSideMenu=function(){$(".inner-container").toggleClass("side-closed")},a.toggleSubmenu=function(a){$(a.currentTarget).toggleClass("menu-opened")},a.hasPermission=function(b,c){return a.authUser.hasPermission(b,c)}}function ProfileCtrl(a){a.page.title="Profile page"}function RegisterCtrl(a,b,c,d,e,f){a.user=new b;var g=function(b){a.errors=b.plainMessage(),a.submitting=!1},h=function(b){return a.submitting=!1,b},i=function(a){return f.sendEmail(a.email)},j=function(){var a={description:"An email has send with information to validate your account.",status:"success"};e.open("message",{message:a})},k=function(){d.go("login")};a.submit=function(b){a.submitting=!0,b.$register().then(h).then(i).then(j).then(k).catch(g)}}function UsersMainCtrl(){}function UsersAllCtrl(a,b){a.users=b}function UsersShowCtrl(a,b,c,d){a.user=b,a.acceptUser=function(a){d.accept(a).$promise.then(function(){a.active=1,c.success("User now can access firstchoice application")}).catch(function(a){c.error(a.plainMessage())})},a.refuseUser=function(a){d.refuse(a).$promise.then(function(){a.active=0,c.success("User now is blocked from accessing firstchoice application")}).catch(function(a){c.error(a.plainMessage())})}}function DepartmentsMainCtrl(){}function DepartmentsAllCtrl(a,b){a.departments=b}function DepartmentsCreateCtrl(a,b,c,d){a.page.title="Create department",a.department=new b;var e=function(a){d.go("main.departments.edit",a)},f=function(a){c.error(a.plainMessage())};a.submit=function(a){a.$save().then(e).catch(f)}}function DepartmentsEditCtrl(a,b,c,d,e,f){var g=function(a,b){void 0===a.users&&(a.users=[]);for(var c=a.users.length-1;c>=0;c--)if(a.users[c].id==b.id)return c;return-1};a.toggleUser=function(a,b){this.isUserSelected(a,b)?a.users.splice(g(a,b),1):a.users.push(b)},a.isUserSelected=function(a,b){return g(a,b)>-1};var h=function(){e.success("Department has been saved successfully")},i=function(a){e.error(a.plainMessage())},j=function(){f.go("main.departments.show",a.department)};a.submit=function(a){console.log(a.users),a.$update().then(h).then(j).catch(i)},a.toggleSelection=function(b){void 0===a.department.permissions&&(a.department.permissions=[]),a.isPermissionSelected(b)?a.deletePermission(b):a.addPermission(b)},a.isPermissionSelected=function(b){return a.getPermissionIndex(b)>-1},a.deletePermission=function(b){a.department.permissions.splice(a.getPermissionIndex(b),1)},a.addPermission=function(b){a.department.permissions.push(b)},a.getPermissionIndex=function(b){for(var c=a.department.permissions.length-1;c>=0;c--)if(a.department.permissions[c].name==b.name)return c;return-1};var k=function(a,b){for(var c=a.length-1;c>=0;c--)for(var d=b.length-1;d>=0;d--)b[d].name==a[c].name&&(b[d].id=a[c].id)};a.page.title="Edit department "+b.name,a.department=b,a.permissions=d,a.users=c,void 0!==a.department.permissions&&k(a.department.permissions,a.permissions)}function DepartmentsShowCtrl(a,b,c,d){var e=function(a,b){for(var c=a.permissions.length-1;c>=0;c--)for(var d=b.length-1;d>=0;d--)b[d].name==a.permissions[c].name&&(a.permissions[c].description=b[d].description)};a.page.title="Department "+b.name,a.department=b,a.department.users=c,e(a.department,d)}function ProductCategoriesMainCtrl(a){a.page.title="Manage Product categories"}function ProductCategoriesAllCtrl(a,b){a.productCategories=b,a.deleteCategory=function(b){a.productCategories[b].$delete().then(function(){a.productCategories.splice(b,1)})}}function ProductCategoriesCreateCtrl(a,b,c,d){a.productCategory=new b;var e=function(a){c.success("Product category has been saved successfully"),d.go("main.productCategories.edit",a)},f=function(a){c.error(a.plainMessage())};a.submit=function(a){a.$save().then(e).catch(f)}}function ProductCategoriesEditCtrl(a,b,c,d,e,f){console.log("editing ",b),a.productCategory=b,a.uploadMainImage=function(){var b=function(b){return c.model("product-category",a.productCategory.id,b)};f.open({mechanizm:b}).then(function(b){a.productCategory.image=b[0]})};var g=function(){d.success("Product category has been updated successfully")},h=function(a){d.error(a.plainMessage())},i=function(){e.go("main.productCategories.show",a.productCategory)};a.submit=function(a){a.$update().then(g).then(i).catch(h)}}function ProductCategoriesShowCtrl(a,b){a.productCategory=b}function ServiceCategoriesMainCtrl(a){a.page.title="Manage Service categories"}function ServiceCategoriesAllCtrl(a,b){a.serviceCategories=b,a.deleteCategory=function(b){a.serviceCategories[b].$delete().then(function(){a.serviceCategories.splice(b,1)})}}function ServiceCategoriesCreateCtrl(a,b,c,d){a.serviceCategory=new b;var e=function(a){c.success("Service category has been saved successfully"),d.go("main.serviceCategories.edit",a)},f=function(a){c.error(a.plainMessage())};a.submit=function(a){a.$save().then(e).catch(f)}}function ServiceCategoriesEditCtrl(a,b,c,d,e,f){a.serviceCategory=b,a.uploadMainImage=function(){var d=function(a){return c.model("service-category",b.id,a)};f.open({mechanizm:d}).then(function(b){a.serviceCategory.image=b[0]})};var g=function(){d.success("Service category has been updated successfully")},h=function(a){d.error(a.plainMessage())},i=function(){e.go("main.serviceCategories.show",a.serviceCategory)};a.submit=function(a){a.$update().then(g).then(i).catch(h)}}function ServiceCategoriesShowCtrl(a,b){a.serviceCategory=b}function SliderItemsMainCtrl(a,b,c){a.page.title="Manage sliders",a.sliders=c,a.getSliderItemCategory=function(b){for(var c=a.sliders.length-1;c>=0;c--)if(a.sliders[c].id==b.slider_id)return a.sliders[c]}}function SliderItemsAllCtrl(a,b){a.sliderItems=b}function SliderItemsCreateCtrl(a,b,c,d){a.sliderItem=new b;var e=function(a){c.success("Slider item has been saved successfully"),d.go("main.sliderItems.edit",a)},f=function(a){c.error(a.plainMessage())};a.submit=function(a){a.$save().then(e).catch(f)}}function SliderItemsEditCtrl(a,b,c,d,e,f){a.sliderItem=b,a.sliderItem.images||(a.sliderItem.images=[]),a.uploadMainImage=function(){var b=function(b){return c.model("slider-item",a.sliderItem.id,b)};d.open({mechanizm:b}).then(function(b){a.sliderItem.image=b[0]})};var g=function(){e.success("Slider item has been updated successfully")},h=function(a){e.error(a.plainMessage())},i=function(){f.go("main.sliderItems.all")};a.submit=function(a){a.$update().then(g).then(i).catch(h)}}function SliderItemsShowCtrl(a,b){a.sliderItem=b}function ContactDetailsMainCtrl(a){a.page.title="Edit contact details"}function ContactDetailsCreateCtrl(a,b,c){a.contactDetail=b;var d=function(){c.success("Contact details has been saved successfully")},e=function(a){c.error(a.plainMessage())};a.submit=function(a){a.$update().then(d).catch(e)}}function InfoSlidersMainCtrl(a){a.page.title="Manage text sliders"}function InfoSlidersAllCtrl(a,b){a.infoSliders=b,a.deleteSlider=function(b){a.infoSliders[b].$delete().then(function(){a.infoSliders.splice(b,1)})}}function InfoSlidersCreateCtrl(a,b,c,d){a.infoSlider=new b;var e=function(){c.success("Text slider has been saved successfully"),d.go("main.infoSliders.all")},f=function(a){c.error(a.plainMessage())};a.submit=function(a){a.$save().then(e).catch(f)}}function InfoSlidersEditCtrl(a,b,c,d,e,f){a.infoSlider=b;var g=function(){e.success("Text slider has been updated successfully")},h=function(a){e.error(a.plainMessage())},i=function(){f.go("main.infoSliders.all")};a.submit=function(a){a.$update().then(g).then(i).catch(h)}}function InfoSlidersShowCtrl(a,b){a.infoSlider=b}function ProductsMainCtrl(a,b,c){a.page.title="Manage Product categories",a.categories=c,a.getProductCategory=function(b){for(var c=a.categories.length-1;c>=0;c--)if(a.categories[c].id==b.category_id)return a.categories[c]}}function ProductsAllCtrl(a,b){a.products=b,a.deleteProduct=function(b){a.products[b].$delete().then(function(){a.products.splice(b,1)})}}function ProductsCreateCtrl(a,b,c,d){a.product=new b;var e=function(a){c.success("Product has been saved successfully"),d.go("main.products.edit",a)},f=function(a){c.error(a.plainMessage())};a.submit=function(a){a.$save().then(e).catch(f)}}function ProductsEditCtrl(a,b,c,d,e){a.product=b,a.product.images||(a.product.images=[]),a.uploadProductImage=function(a){return c.model("product",b.id,a)};var f=function(){d.success("Product has been updated successfully")},g=function(a){d.error(a.plainMessage())},h=function(){e.go("main.products.all")};a.submit=function(a){a.$update().then(f).then(h).catch(g)}}function ProductsShowCtrl(a,b){a.product=b}function ServicesMainCtrl(a,b,c){a.page.title="Manage Service categories",a.categories=c,a.getServiceCategory=function(b){for(var c=a.categories.length-1;c>=0;c--)if(a.categories[c].id==b.category_id)return a.categories[c]}}function ServicesAllCtrl(a,b){a.services=b,a.deleteService=function(b){a.services[b].$delete().then(function(){a.services.splice(b,1)})}}function ServicesCreateCtrl(a,b,c,d){a.service=new b;var e=function(a){c.success("Service has been saved successfully"),d.go("main.services.edit",a)},f=function(a){c.error(a.plainMessage())};a.submit=function(a){a.$save().then(e).catch(f)}}function ServicesEditCtrl(a,b,c,d,e){a.service=b,a.service.images||(a.service.images=[]),a.uploadServiceImage=function(a){return c.model("service",b.id,a)};var f=function(){d.success("Service has been updated successfully")},g=function(a){d.error(a.plainMessage())},h=function(){e.go("main.services.all")};a.submit=function(a){a.$update().then(f).then(h).catch(g)}}function ServicesShowCtrl(a,b){a.service=b}function ProjectsMainCtrl(a){a.page.title="Manage Projects"}function ProjectsAllCtrl(a,b){a.projects=b,a.deleteProject=function(b){a.projects[b].$delete().then(function(){a.projects.splice(b,1)})}}function ProjectsCreateCtrl(a,b,c,d){a.project=new b;var e=function(a){c.success("Project has been saved successfully"),d.go("main.projects.edit",a)},f=function(a){c.error(a.plainMessage())};a.submit=function(a){a.$save().then(e).catch(f)}}function ProjectsEditCtrl(a,b,c,d,e){a.project=b,a.project.images||(a.project.images=[]),a.uploadProjectImage=function(a){return c.model("project",b.id,a)};var f=function(){d.success("Project has been updated successfully")},g=function(a){d.error(a.plainMessage())},h=function(){e.go("main.projects.all")};a.submit=function(a){a.$update().then(f).then(h).catch(g)}}function ProjectsShowCtrl(a,b){a.project=b}function SitepagesMainCtrl(a){a.page.title="Manage site pages"}function SitepagesAllCtrl(a,b){a.sitepages=b,a.deleteSitepage=function(b){a.sitepages[b].$delete().then(function(){a.sitepages.splice(b,1)})}}function SitepagesCreateCtrl(a,b,c,d){a.sitepage=new b;var e=function(a){c.success("Sitepage has been saved successfully"),d.go("main.sitepages.edit",a)},f=function(a){c.error(a.plainMessage())};a.submit=function(a){a.$save().then(e).catch(f)}}function SitepagesEditCtrl(a,b,c,d,e,f){a.sitepage=b,a.addSection=function(){b.sections.push({})},a.deleteSection=function(a){b.sections.splice(a,1)};var g=function(b){f.open({multipleFiles:!1,mechanizm:function(c){return a.uploadPageSection(b,c)}}).then(function(a){console.log(a),b.image=a[0]})};a.openFileManager=function(a){b.sections[a].id||b.$update().then(function(b){g(b.sections[a])}),g(b.sections[a])},a.uploadPageSection=function(a,b){return c.model("page-section",a.id,b)};var h=function(){d.success("Sitepage has been updated successfully")},i=function(a){d.error(a.plainMessage())};a.submit=function(a){a.$update().then(h).catch(i)}}function SitepagesShowCtrl(a,b){a.sitepage=b}function NewsMainCtrl(a){a.page.title="Manage News"}function NewsAllCtrl(a,b){a.news=b,a.deleteNews=function(b){a.news[b].$delete().then(function(){a.news.splice(b,1)})}}function NewsCreateCtrl(a,b,c,d){a.news=new b;var e=function(a){c.success("News has been saved successfully"),d.go("main.news.edit",a)},f=function(a){c.error(a.plainMessage())};a.submit=function(a){a.$save().then(e).catch(f)}}function NewsEditCtrl(a,b,c,d,e){a.news=b,a.news.images||(a.news.images=[]),a.uploadNewsImage=function(a){return c.model("news",b.id,a)};var f=function(){d.success("News has been updated successfully")},g=function(a){d.error(a.plainMessage())},h=function(){e.go("main.news.all")};a.submit=function(a){a.$update().then(f).then(h).catch(g)}}function NewsShowCtrl(a,b){a.news=b}function BranchesMainCtrl(a){a.page.title="Manage Branches",a.map={center:{latitude:24.266906,longitude:45.107849},zoom:7,options:{scrollwheel:!1},draggable:!0}}function BranchesAllCtrl(a,b){a.branches=b,a.deleteBranch=function(b){a.branches[b].$delete().then(function(){a.branches.splice(b,1)})}}function BranchesCreateCtrl(a,b,c,d){a.branch=new b,a.marker={id:Math.floor(1e5*Math.random()),coords:a.map.center,options:{draggable:!0},events:{dragend:function(b){a.branch.gps_latitude=b.getPosition().lat(),a.branch.gps_longitude=b.getPosition().lng()}}};var e=function(a){c.success("Branch has been saved successfully"),d.go("main.branches.edit",a)},f=function(a){c.error(a.plainMessage())};a.submit=function(a){a.$save().then(e).catch(f)}}function BranchesEditCtrl(a,b,c,d,e,f){a.branch=b,a.branch.gps_latitude&&a.branch.gps_longitude&&(a.map.center={latitude:a.branch.gps_latitude,longitude:a.branch.gps_longitude}),a.marker={id:Math.floor(1e5*Math.random()),options:{draggable:!0},events:{dragend:function(b){a.branch.gps_latitude=b.getPosition().lat(),a.branch.gps_longitude=b.getPosition().lng()}}},f(function(){a.marker.coords=a.map.center},1e3),a.branch.images||(a.branch.images=[]);var g=function(){d.success("Branch has been updated successfully")},h=function(a){d.error(a.plainMessage())},i=function(){e.go("main.branches.all")};a.submit=function(a){a.$update().then(g).then(i).catch(h)}}function BranchesShowCtrl(a,b){a.branch=b}function ContactEmailsMainCtrl(a){a.page.title="Manage ContactEmails"}function ContactEmailsCreateCtrl(a,b,c,d){a.contactEmails=c,a.contactEmail=null,a.addNewEmail=function(){a.contactEmail=new b};var e=function(b){a.contactEmail=null,a.contactEmails.push(b),d.success("Email has been add successfully")},f=function(a){d.error(a.plainMessage())},g=function(){d.success("Email has been updated successfully")},h=function(){d.success("Email has been deleted successfully")};a.updateEmail=function(a){a.$update().then(g).catch(f)},a.deleteEmail=function(b){a.contactEmails[b].$delete().then(h).catch(f),a.contactEmails.splice(b,1)},a.newEmail=function(a){a.$save().then(e).catch(f)}}angular.module("bmsApp",["ngAnimate","ngCookies","ngResource","ngSanitize","ngTouch","ui.router","mgcrea.ngStrap","gridster","wu.masonry","angularFileUpload","google-maps".ns()]).config(["$datepickerProvider","$httpProvider",function(a,b){b.defaults.withCredentials=!0,angular.extend(a.defaults,{startView:1,dateFormat:"mediumDate"})}]).run(["$rootScope","$state","Alert","LocationHistory",function(a,b,c,d){a.globals=window.globals,a.$on("$stateChangeError",function(d,e,f,g,h,i){void 0!==i.isNotFound&&i.isNotFound()?b.go("errors.notfound"):void 0!==i.isUnauthorized&&i.isUnauthorized()?b.go("login"):void 0!==i.isForbidden&&i.isForbidden()?c.error(i.plainMessage()):void 0!==i.isInternalServer&&i.isInternalServer()?b.go("errors.server"):c.error(i),a.loadingView=!1}),a.$on("$stateChangeStart",function(b,c,e,f){d.add(f.url),a.loadingView=!0}),a.$on("$stateChangeSuccess",function(){a.loadingView=!1})}]),window.globals={environment:document.URL.indexOf("firstchoice.cc")>-1?"production":"development"},window.views={get:function(a){return a.indexOf(".html")<0&&(a+=".html"),"/views/"+a}},angular.module("bmsApp").run(["$rootScope",function(a){a.views=window.views}]).constant("environment",window.globals.environment),angular.module("bmsApp").config(["$urlRouterProvider","$stateProvider","$httpProvider","$locationProvider","$modalProvider",function(a,b,c,d,e){angular.extend(e.defaults,{placement:"center",sort:!1}),c.interceptors.push("ResponseInterceptor"),a.otherwise("/dashboard"),b.state("main",{templateUrl:window.views.get("main.html"),controller:"MainCtrl","abstract":!0,resolve:MainCtrl.resolve}).state("main.dashboard",{url:"/dashboard",templateUrl:window.views.get("pages/dashboard.html"),controller:"DashboardCtrl",resolve:DashboardCtrl.resolve}).state("login",{url:"/login",templateUrl:window.views.get("pages/login.html"),controller:"LoginCtrl"}).state("register",{url:"/register",templateUrl:window.views.get("pages/register.html"),controller:"RegisterCtrl"}).state("errors",{url:"/error",templateUrl:window.views.get("pages/errors/main.html")}).state("errors.notfound",{url:"/404",templateUrl:window.views.get("pages/errors/notfound.html")}).state("errors.noaccess",{url:"/noaccess",templateUrl:window.views.get("pages/errors/noaccess.html")}).state("errors.server",{url:"/server",templateUrl:window.views.get("pages/errors/server.html"),controller:"ServerErrorCtrl"}).state("main.users",{url:"/users",templateUrl:window.views.get("users/main.html"),controller:"UsersMainCtrl",resolve:UsersMainCtrl.resolve}).state("main.users.all",{url:"/",templateUrl:window.views.get("users/all.html"),controller:"UsersAllCtrl",resolve:UsersAllCtrl.resolve}).state("main.users.show",{url:"/show/:id",templateUrl:window.views.get("users/show.html"),controller:"UsersShowCtrl",resolve:UsersShowCtrl.resolve});var f=function(a,c,d,e){b.state("main."+a,{url:d,templateUrl:window.views.get(c+"/main.html"),controller:e.main,resolve:e.main.resolve}),"all"in e&&b.state("main."+a+".all",{url:"/",templateUrl:window.views.get(c+"/all.html"),controller:e.all,resolve:e.all.resolve}),"create"in e&&b.state("main."+a+".create",{url:"/create",templateUrl:window.views.get(c+"/create.html"),controller:e.create,resolve:e.create.resolve}),"edit"in e&&b.state("main."+a+".edit",{url:"/edit/:id",templateUrl:window.views.get(c+"/edit.html"),controller:e.edit,resolve:e.edit.resolve}),"show"in e&&b.state("main."+a+".show",{url:"/show/:id",templateUrl:window.views.get(c+"/show.html"),controller:e.show,resolve:e.show.resolve})};f("productCategories","product-categories","/product-categories",{main:ProductCategoriesMainCtrl,all:ProductCategoriesAllCtrl,create:ProductCategoriesCreateCtrl,edit:ProductCategoriesEditCtrl,show:ProductCategoriesShowCtrl}),f("serviceCategories","service-categories","/service-categories",{main:ServiceCategoriesMainCtrl,all:ServiceCategoriesAllCtrl,create:ServiceCategoriesCreateCtrl,edit:ServiceCategoriesEditCtrl,show:ServiceCategoriesShowCtrl}),f("sliderItems","slider-items","/slider-items",{main:SliderItemsMainCtrl,all:SliderItemsAllCtrl,create:SliderItemsCreateCtrl,edit:SliderItemsEditCtrl,show:SliderItemsShowCtrl}),f("contactDetails","contact-details","/contact-details",{main:ContactDetailsMainCtrl,create:ContactDetailsCreateCtrl}),f("infoSliders","info-sliders","/info-sliders",{main:InfoSlidersMainCtrl,all:InfoSlidersAllCtrl,create:InfoSlidersCreateCtrl,edit:InfoSlidersEditCtrl,show:InfoSlidersShowCtrl}),f("products","products","/products",{main:ProductsMainCtrl,all:ProductsAllCtrl,create:ProductsCreateCtrl,edit:ProductsEditCtrl,show:ProductsShowCtrl}),f("services","services","/services",{main:ServicesMainCtrl,all:ServicesAllCtrl,create:ServicesCreateCtrl,edit:ServicesEditCtrl,show:ServicesShowCtrl}),f("projects","projects","/projects",{main:ProjectsMainCtrl,all:ProjectsAllCtrl,create:ProjectsCreateCtrl,edit:ProjectsEditCtrl,show:ProjectsShowCtrl}),f("departments","departments","/departments",{main:DepartmentsMainCtrl,all:DepartmentsAllCtrl,create:DepartmentsCreateCtrl,edit:DepartmentsEditCtrl,show:DepartmentsShowCtrl}),f("sitepages","sitepages","/sitepages",{main:SitepagesMainCtrl,all:SitepagesAllCtrl,create:SitepagesCreateCtrl,edit:SitepagesEditCtrl,show:SitepagesShowCtrl}),f("news","news","/news",{main:NewsMainCtrl,all:NewsAllCtrl,create:NewsCreateCtrl,edit:NewsEditCtrl,show:NewsShowCtrl}),f("branches","branches","/branches",{main:BranchesMainCtrl,all:BranchesAllCtrl,create:BranchesCreateCtrl,edit:BranchesEditCtrl,show:BranchesShowCtrl}),f("contactEmails","contact-emails","/contact-emails",{main:ContactEmailsMainCtrl,create:ContactEmailsCreateCtrl})}]),angular.module("bmsApp").directive("fallbackSrc",function(){return{restrict:"A",scope:{ngSrc:"@"},link:function(a,b,c){a.$watch("ngSrc",function(a){""===a&&angular.element(b).attr("src",c.fallbackSrc)}),b.bind("error",function(){angular.element(this).attr("src",c.fallbackSrc)})}}}),angular.module("bmsApp").directive("imagedrop",["$parse","ImageDrop",function(a,b){return{restrict:"EA",link:function(){var a=function(a){a.preventDefault(),$("body").addClass("dragOver"),$("body").removeClass("dragEnd")},c=function(a){a.preventDefault(),$("body").addClass("dragEnd"),$("body").removeClass("dragOver")},d=function(a){b.callListener(a)};$(document).bind("dragover",a),$(document).bind("dragleave",c).bind("drop",function(a){c(a),d(a.originalEvent.dataTransfer.files[0])})}}}]),angular.module("bmsApp").directive("languageText",function(){return{restrict:"E",scope:{object:"=lnObject",attribute:"@lnAttribute",enPlaceholder:"@",arPlaceholder:"@",inputType:"@lnInputType"},templateUrl:window.views.get("partials/language-input.html"),link:function(a){a.inputType=void 0===a.inputType?"text":a.inputType;var b=function(b){return a.object[b+"_"+a.attribute]},c=function(b,c){a.object[b+"_"+a.attribute]=c},d=function(){a.englishAttribute=b("en"),a.arabicAttribute=b("ar")},e=function(){a.$watch("englishAttribute",function(a){c("en",a)}),a.$watch("arabicAttribute",function(a){c("ar",a)})};a.$watch("object",function(a){a&&(d(),e())}),a.getEnPlaceHolder=function(){return a.enPlaceholder},a.getArPlaceHolder=function(){return a.arPlaceholder},a.isTextarea=function(){return"textarea"==a.inputType},a.isText=function(){return"textarea"!=a.inputType}}}}),angular.module("bmsApp").directive("galleryViewer",["FileManager","ImageUpload",function(a,b){return{restrict:"E",scope:{images:"=",fileManager:"="},templateUrl:window.views.get("partials/gallery-viewer.html"),link:function(c){c.openFileManager=function(){a.open(c.fileManager).then(function(a){for(var b=a.length-1;b>=0;b--)c.images.push(a[b])})};var d=[],e=function(a){for(var b=d.length-1;b>=0;b--)if(d[b].id==a.id)return b;return-1};c.isImageSelected=function(a){return e(a)>-1},c.toggleImageSelection=function(a){var b=e(a);b>-1?d.splice(b,1):d.push(a)},c.emptyImageSelection=function(){return 0==d.length},c.deleteAllSelectedImages=function(){if(0!=confirm("You are about to delete "+d.length+" images")){for(var a="",e=d.length-1;e>=0;e--){a+=d[e].id+",";for(var f=c.images.length-1;f>=0;f--)if(c.images[f].id==d[e].id){c.images.splice(f,1);break}}b.destroyAll(a),d=[]}}}}}]),angular.module("bmsApp").factory("Alert",["$alert",function(a){var b=function(b,c,d,e){a({title:b,content:c,type:d,placement:"top-right",show:!0,duration:void 0===e?3:e})};return{success:function(a,c){b("Success",a,"success",c)},error:function(a,c){b("Error",a,"danger",c)},warning:function(a,c){b("Warning",a,"warning",c)},info:function(a,c){b("Info",a,"info",c)}}}]),angular.module("bmsApp").factory("Api",["environment",function(a){var b={"firstchoice.shared.v1":{url:function(a){return"http://firstchoice.dev/shared/api/v1/"+a}},"firstchoice.site.v1":{url:function(a){return"http://firstchoice.dev/site/api/v1/"+a}}},c={"firstchoice.shared.v1":{url:function(a){return"http://site.firstchoice.cc/shared/api/v1/"+a}},"firstchoice.site.v1":{url:function(a){return"http://site.firstchoice.cc/site/api/v1/"+a}}};return{use:function(d){return"production"==a?c[d]:b[d]}}}]),angular.module("bmsApp").factory("Branch",["$resource","Api",function(a,b){var c=b.use("firstchoice.site.v1"),d={update:{method:"PUT"}};return console.log("here"),a(c.url("branch/:id"),{id:"@id"},d)}]),angular.module("bmsApp").factory("ContactEmail",["$resource","Api",function(a,b){var c=b.use("firstchoice.site.v1"),d={update:{method:"PUT"}};return console.log("here"),a(c.url("contact-email/:id"),{id:"@id"},d)}]),angular.module("bmsApp").factory("Department",["$resource","Api",function(a,b){var c=b.use("firstchoice.shared.v1"),d={update:{method:"PUT"}};return a(c.url("department/:id"),{id:"@id"},d)}]),angular.module("bmsApp").factory("Drive",["$resource","Api",function(a,b){var c=b.use("firstchoice.shared.v1"),d={update:{method:"PUT"},main:{method:"GET",url:c.url("drive/main")}};return a(c.url("drive/:id"),{id:"@id"},d)}]),angular.module("bmsApp").factory("FileManager",["Modal","$q",function(a,b){function c(a){var b={};return a&&"[object Function]"===b.toString.call(a)}var d=null,e=[],f={multipleFiles:!1,uploadMethods:["computer","drag-and-drop"],fileTypes:["image","doc","pdf"],mechanizm:"drive"},g=function(a){for(var b=e.length-1;b>=0;b--)if(angular.equals(e[b],a))return b;return-1},h={deferred:null,open:function(c){return this.setConfiguration(c),a.open("drive"),a.listen("drive","hide.before").then(h.deselectAll),this.deferred=b.defer(),this.deferred.promise},close:function(){a.close()},finish:function(){this.deferred.resolve(angular.copy(e)),this.close()},setConfiguration:function(a){d=angular.extend(angular.copy(f),a)},getConfigurations:function(){return d},selectFile:function(a){e.push(a)},deselectFile:function(a){var b=g(a);b>-1&&e.splice(b,1)},isFileSelected:function(a){return g(a)>-1},countSelectedFiles:function(){return e.length},deselectAll:function(){e=[]},isMultipleFilesEnabled:function(){return d.multipleFiles},getUploadMethods:function(){return d.uploadMethods},hasUploadMethod:function(a){return this.getUploadMethods().indexOf(a)>-1},getFileTypes:function(){return d.fileTypes},onlyImages:function(){return 1==d.fileTypes.length&&"image"==d.fileTypes[0]},isDriveMechanizm:function(){return"drive"==d.mechanizm},isCustomMechanizm:function(){return c(d.mechanizm)},getMechanizm:function(){return d.mechanizm}};return h}]),angular.module("bmsApp").factory("FileUpload",["Api","$upload","$q","ResponseError",function(a,b,c,d){var e=a.use("firstchoice.shared.v1"),f=function(a,e){var f=c.defer();return b.upload({url:a,method:"POST",file:e}).progress(function(a){f.notify(parseInt(100*a.loaded/a.total))}).success(function(a){f.resolve(a)}).error(function(a,b,c){f.reject(d.instance(a,b,c))}),f.promise};return{toDrive:function(a,b){return f(e.url("drive/"+a.id+"/file"),b)}}}]),angular.module("bmsApp").factory("File",["$resource","Api",function(a,b){var c=b.use("firstchoice.shared.v1");return a(c.url("drive/:driveId/file/:fileId"),{fileId:"@id"})}]),angular.module("bmsApp").factory("Helpers",function(){return{type:{promise:function(a){return angular.isObject(a)&&angular.isObject(a.promise)&&a.promise.then instanceof Function&&a.promise["catch"]instanceof Function&&a.promise["finally"]instanceof Function},array:function(a){return a instanceof Array},glob:function(a){return a.indexOf("*")>-1},isFunction:function(){var a={};return functionToCheck&&"[object Function]"===a.toString.call(functionToCheck)}},string:{getLocation:function(a){var b=document.createElement("a");return b.href=a,b},rtrim:function(a,b){b=b||"\\s",a.replace(new RegExp("["+b+"]+$","g"),"")},ltrim:function(a,b){b=b||"\\s",a.replace(new RegExp("^["+b+"]+","g"),"")},trim:function(a,b){return this.ltrim(this.rtrim(a,b),b)},ucfirst:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},slugify:function(a){return a&&a.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}},glob:{match:function(a,b){var c=a.split("."),d=b.split(".");if("**"===c[0]&&(d=d.slice(d.indexOf(c[1])),d.unshift("**")),"**"===c[c.length-1]&&(d.splice(d.indexOf(c[c.length-2])+1,Number.MAX_VALUE),d.push("**")),c.length!=d.length)return!1;for(var e=0,f=c.length;f>e;e++)"*"===c[e]&&(d[e]="*");return d.join("")===c.join("")}}}}),angular.module("bmsApp").factory("ImageDrop",["$rootScope",function(a){var b=[];a.$on("$stateChangeStart",function(){b=[]});var c={addListener:function(a){b.push(a)},getListener:function(){return b[b.length-1]},popListener:function(){b.pop()},callListener:function(a){b.length>0&&this.getListener()(a)}};return c}]),angular.module("bmsApp").factory("ImageUpload",["Api","$upload","$q","ResponseError","$http",function(a,b,c,d,e){var f=a.use("firstchoice.site.v1"),g=function(a,e){var f=c.defer();return b.upload({url:a,method:"POST",file:e}).progress(function(a){f.notify(parseInt(100*a.loaded/a.total))}).success(function(a){f.resolve(a)}).error(function(a,b,c){f.reject(d.instance(a,b,c))}),f.promise};return{model:function(a,b,c){return g(f.url("image/"+a+"/"+b),c)},destroy:function(a){return e.delete(f.url("image/"+a))},destroyAll:function(a){return e.delete(f.url("image/all/"+a))}}}]),angular.module("bmsApp").factory("LocationHistory",["$location",function(a){var b=[];return{add:function(a){b.push(a)},back:function(){a.url(this.previousUrl())},previousUrl:function(){return b.length>0?b[b.length-1]:""}}}]),angular.module("bmsApp").factory("Modal",["$modal","$rootScope","$q",function(a,b,c){var d=null,e=function(a){return window.views.get("modals/"+a+".html")},f=function(a){return a+"Modal"};return{open:function(g,h,i){this.close();var j=c.defer(),k={template:e(g),scope:b.$new(!0),prefixEvent:f(g)};return k.scope.data=h,k.scope.deferred=j,k=angular.extend(k,i),d=a(k),j.promise},close:function(){null!=d&&"function"==typeof d.hide&&d.hide()},listen:function(a,d){var e=c.defer(),g=f(a)+"."+d;return b.$on(g,function(a){e.resolve(a)}),e.promise}}}]),angular.module("bmsApp").factory("Notification",["$resource","Api",function(a,b){var c=b.use("firstchoice.shared.v1"),d={update:{method:"PUT"}};return a(c.url("notification/:id"),{id:"@id"},d)}]),angular.module("bmsApp").factory("Product",["$resource","Api",function(a,b){var c=b.use("firstchoice.site.v1"),d={update:{method:"PUT"}};return a(c.url("product/:id"),{id:"@id"},d)}]),angular.module("bmsApp").factory("Service",["$resource","Api",function(a,b){var c=b.use("firstchoice.site.v1"),d={update:{method:"PUT"}};return a(c.url("service/:id"),{id:"@id"},d)}]),angular.module("bmsApp").factory("SliderItem",["$resource","Api",function(a,b){var c=b.use("firstchoice.site.v1"),d={update:{method:"PUT"}};return console.log("here"),a(c.url("slider-item/:id"),{id:"@id"},d)}]),angular.module("bmsApp").factory("Sitepage",["$resource","Api",function(a,b){var c=b.use("firstchoice.site.v1"),d={update:{method:"PUT"}};return a(c.url("page/:id"),{id:"@id"},d)}]),angular.module("bmsApp").factory("InfoSlider",["$resource","Api",function(a,b){var c=b.use("firstchoice.site.v1"),d={update:{method:"PUT"}};return a(c.url("info-slider/:id"),{id:"@id"},d)}]),angular.module("bmsApp").factory("Slider",["$resource","Api",function(a,b){var c=b.use("firstchoice.site.v1"),d={update:{method:"PUT"}};return a(c.url("slider/:id"),{id:"@id"},d)}]),angular.module("bmsApp").factory("ProductCategory",["$resource","Api",function(a,b){var c=b.use("firstchoice.site.v1"),d={update:{method:"PUT"}};return a(c.url("product-category/:id"),{id:"@id"},d)}]),angular.module("bmsApp").factory("ContactDetail",["$resource","Api",function(a,b){var c=b.use("firstchoice.site.v1"),d={update:{method:"PUT"}};return a(c.url("contact-detail/:id"),{id:"@id"},d)}]),angular.module("bmsApp").factory("Project",["$resource","Api",function(a,b){var c=b.use("firstchoice.site.v1"),d={update:{method:"PUT"}};return console.log("here"),a(c.url("project/:id"),{id:"@id"},d)}]),angular.module("bmsApp").factory("News",["$resource","Api",function(a,b){var c=b.use("firstchoice.site.v1"),d={update:{method:"PUT"}};
return a(c.url("news/:id"),{id:"@id"},d)}]),angular.module("bmsApp").factory("ServiceCategory",["$resource","Api",function(a,b){var c=b.use("firstchoice.site.v1"),d={update:{method:"PUT"}};return a(c.url("service-category/:id"),{id:"@id"},d)}]),angular.module("bmsApp").factory("Permission",["$http","Api",function(a,b){var c=b.use("firstchoice.shared.v1");return{all:function(){return a.get(c.url("permission/site")).then(function(a){return a.data})}}}]),angular.module("bmsApp").factory("ResponseError",function(){var a=function(a,b,c){this.data=a,this.status=b,this.headers=c,this.messages=function(){return a},this.plainMessage=function(b){if(this.isInternalServer())return"Internal server error";b=void 0===b?"<br/>":b;var c="";for(var d in a)c+=a[d]instanceof Array?a[d].join(b)+b:a[d]+b;return c},this.isValidation=function(){return"validation"==this.getType()},this.isUnauthorized=function(){return"unauthorized"==this.getType()},this.isForbidden=function(){return"forbidden"==this.getType()},this.isNotFound=function(){return"notfound"==this.getType()},this.isInternalServer=function(){return"internal_server"==this.getType()},this.isNotKnown=function(){return"unknown"==this.getType()},this.getType=function(){switch(b){case 400:return"validation";case 401:return"unauthorized";case 403:return"forbidden";case 404:return"notfound";case 500:return"internal_server";default:return"unknown"}}};return{instance:function(b,c,d){return new a(b,c,d)}}}),angular.module("bmsApp").factory("ResponseInterceptor",["$q","ResponseError",function(a,b){return{response:function(b){return b||a.when(b)},responseError:function(c){return a.reject(b.instance(c.data,c.status,c.headers))}}}]),angular.module("bmsApp").factory("Session",["$resource","Api",function(a,b){var c=b.use("firstchoice.shared.v1"),d={login:{method:"POST",url:c.url("session/login")},logout:{method:"GET",url:c.url("session/logout")}};return a(c.url("session"),{},d)}]),angular.module("bmsApp").factory("StatusModal",["Modal","$q",function(a,b){var c;return{init:function(){c=[]},add:function(a,d){var e={promise:a,description:d,resolved:!1};a instanceof Array?b.all(a).then(function(){e.resolved=!0}):a.then(function(){e.resolved=!0}),c.push(e)},afterAll:function(){for(var a=[],d=c.length-1;d>=0;d--)a.push(c[d].promise);return b.all(a)},open:function(){return a.open("status",{allStatus:c})}}}]),angular.module("bmsApp").factory("User",["$resource","Api",function(a,b){var c=b.use("firstchoice.shared.v1"),d={update:{method:"PUT"},accept:{method:"PUT",url:c.url("user/accept/:id")},register:{method:"POST",url:c.url("user/register")},session:{method:"GET",url:c.url("user/session")},refuse:{method:"PUT",url:c.url("user/refuse/:id")}},e=a(c.url("user/:id"),{id:"@id"},d);return e.prototype.hasPermission=function(a,b){var c=this.getPermissions();if(void 0===c)return!1;for(var d=c.length-1;d>=0;d--){var e=c[d].name.split("."),f=e[0]==a&&(void 0===b||e[1]==b||"*"==e[1]);if(f)return!0}return!1},e.prototype.getPermissions=function(){return this.permissions},e.prototype.hasCompletedProfile=function(){return""!=this.profile_image},e}]),angular.module("bmsApp").factory("UserEmailValidation",["$http","Api",function(a,b){var c=b.use("firstchoice.shared.v1");return{sendEmail:function(b){return a.post(c.url("email-validation/send-email"),{email:b})}}}]),DashboardCtrl.$inject=["$scope"],angular.module("bmsApp").controller("DashboardCtrl",DashboardCtrl),LoginCtrl.$inject=["$scope","Session","$state"],angular.module("bmsApp").controller("LoginCtrl",LoginCtrl),MainCtrl.$inject=["$scope","authUser","FileManager"],MainCtrl.resolve={authUser:["User",function(a){return a.session().$promise}]},angular.module("bmsApp").controller("MainCtrl",MainCtrl),ProfileCtrl.$inject=["$scope"],angular.module("bmsApp").controller("ProfileCtrl",ProfileCtrl),RegisterCtrl.$inject=["$scope","User","Department","$state","Modal","UserEmailValidation"],angular.module("bmsApp").controller("RegisterCtrl",RegisterCtrl),angular.module("bmsApp").controller("ServerErrorCtrl",["$scope","LocationHistory",function(a,b){a.tryAgain=function(){b.back()}}]),angular.module("bmsApp").controller("DriveFilesCtrl",["$scope","FileManager",function(a,b){a.query=b.onlyImages()?{type:"image"}:{}}]),angular.module("bmsApp").controller("DriveCtrl",["$scope","Drive","FileManager",function(a,b,c){a.isMultipleSelectEnabled=function(){return c.isMultipleFilesEnabled()},a.toggleSelection=function(b){c.isFileSelected(b)?c.deselectFile(b):c.selectFile(b),c.isMultipleFilesEnabled()||a.finishSelection()},a.selectAllAndFinish=function(b){for(var d=b.length-1;d>=0&&(c.isFileSelected(b[d])||c.selectFile(b[d]),c.isMultipleFilesEnabled());d--);a.finishSelection()},a.selectAndFinish=function(b){c.isFileSelected(b)||c.selectFile(b),a.finishSelection()},a.countSelectedFiles=function(){return c.countSelectedFiles()},a.finishSelection=function(){c.finish()},a.deselectAll=function(){c.deselectAll()},a.isFileSelected=function(a){return c.isFileSelected(a)};var d=function(){a.tabs.push({title:"Upload",template:window.views.get("modals/drive/drive.upload.html")})},e=function(){a.tabs.push({title:"Drive",template:window.views.get("modals/drive/drive.files.html")})},f=function(){b.main().$promise.then(function(b){a.drive=b,void 0===a.drive.files&&(a.drive.files=[])})};a.tabs=[],c.isDriveMechanizm()?(d(),e(),f()):c.isCustomMechanizm()&&d(),a.tabs.activeTab=0,a.changeMainTab=function(b){for(var c=0;c<a.tabs.length;c++)if(a.tabs[c].title.toUpperCase()==b.toUpperCase())return void(a.tabs.activeTab=c)},a.getMainTabTitle=function(b){return a.tabs[b].title},a.isActiveMainTab=function(b){return a.getMainTabTitle(a.tabs.activeTab).toLowerCase()==b.toLowerCase()},a.cancel=function(){a.$hide()}}]),angular.module("bmsApp").controller("DriveUploadCtrl",["$scope","ImageDrop","FileUpload","FileManager","Alert","$q",function(a,b,c,d,e,f){var g={view:"",showUploadingView:function(){this.view="uploading"},showUploaderView:function(){this.view="uploader"},showSuccessStatus:function(){this.view="success-status"},showErrorStatus:function(){this.view="error-status"},isSuccessStatus:function(){return"success-status"==this.view},isErrorStatus:function(){return"error-status"==this.view},isUploaderView:function(){return"uploader"==this.view},isUploadingView:function(){return"uploading"==this.view}};a.Tab=g;var h={progress:0,uploading:!1,onUploadListeners:[],files:[],nextFileIndex:0,uploadedFiles:[],failed:0,drive:null,setDrive:function(a){h.drive=a},reset:function(){h.files=[],h.nextFileIndex=0,h.uploadedFiles=[],h.failed=0,h.uploading=!1,h.progress=0},resetProgress:function(){h.progress=0},inProgress:function(a){h.progress=a},isLastFileInLine:function(){return h.nextFileIndex>h.files.length-1},getNextInLine:function(){return h.files[h.nextFileIndex++]},uploadSucceed:function(a){h.uploadedFiles.push(a),h.isLastFileInLine()?(h.callOnUploadListeners(h.uploadedFiles,h.failed),h.reset()):h.uploadFile(h.getNextInLine())},uploadFailed:function(){h.failed++,h.isLastFileInLine()?(h.callOnUploadListeners(h.uploadedFiles,h.failed),h.reset()):h.uploadFile(h.getNextInLine())},uploadFiles:function(a){if(g.showUploadingView(),h.uploading=!0,d.isMultipleFilesEnabled())for(var b=a.length-1;b>=0;b--)h.files.push(a[b]);else h.files.push(a[0]);h.uploadFile(h.getNextInLine())},uploadFile:function(a){var b;h.resetProgress(),d.isDriveMechanizm()?b=c.toDrive(h.drive,a):d.isCustomMechanizm()&&(b=d.getMechanizm()(a)),f.when(b).then(h.uploadSucceed,h.uploadFailed,h.inProgress)},isUploading:function(){return h.uploading},onUpload:function(a){h.onUploadListeners.push(a)},callOnUploadListeners:function(a,b){for(var c=h.onUploadListeners.length-1;c>=0;c--)h.onUploadListeners[c](a,b)},getProgress:function(){return h.progress},getProgressStyle:function(){return{width:h.progress+"%"}},countUploaded:function(){return h.uploadedFiles.length},countFailed:function(){return h.failed},hasComputerMethod:function(){return d.hasUploadMethod("computer")},hasDropMethod:function(){return d.hasUploadMethod("drag-and-drop")}};a.Uploader=h;var i=function(){var b=!1;a.openFileDialog=function(){$("#hiddenFileUploader").trigger("click"),b||$("#hiddenFileUploader").on("change",function(){h.uploadFiles(this.files),a.$apply(),b=!0,$(this).val("")})}},j=function(){b.addListener(function(b){h.uploadFiles([b]),a.$apply()})},k=function(){h.onUpload(function(b,c){0==b.length&&c>0?g.showErrorStatus("Something went wrong while trying to upload your files"):d.isDriveMechanizm()?(g.showSuccessStatus("Images uploaded successfully"),a.drive.files=a.drive.files.concat(b)):a.selectAllAndFinish(b)})},l=function(){h.hasComputerMethod()&&i(),h.hasDropMethod()&&j(),k(),g.showUploaderView()};d.isDriveMechanizm()?a.$watch("drive",function(a){a&&(h.setDrive(a),l(a))}):d.isCustomMechanizm()&&l(),g.showUploaderView()}]),angular.module("bmsApp").controller("ModalMessageCtrl",["$scope",function(a){a.message=a.data.message,a.isSuccessStatus=function(){return"success"==a.message.status},a.isErrorStatus=function(){return"error"==a.message.status}}]),angular.module("bmsApp").controller("ModalStatusCtrl",["$scope","StatusModal","$interval",function(a,b,c){a.allStatus=a.data.allStatus,a.getStatusIcon=function(a){return a.resolved?"fa fa-check-circle":"fa fa-spinner fa-spin"};var d=function(){c(function(){a.deferred.resolve(),a.$hide()},2e3)};b.afterAll().then(d)}]),angular.module("bmsApp").controller("UsersMainCtrl",UsersMainCtrl),UsersAllCtrl.$inject=["$scope","users"],UsersAllCtrl.resolve={users:["User",function(a){return a.query({with_inactive:!0}).$promise}]},angular.module("bmsApp").controller("UsersAllCtrl",UsersAllCtrl),UsersShowCtrl.$inject=["$scope","user","Alert","User"],UsersShowCtrl.resolve={user:["User","$stateParams","$q",function(a,b){return a.get({id:b.id}).$promise}]},angular.module("bmsApp").controller("UsersShowCtrl",UsersShowCtrl),DepartmentsMainCtrl.$inject=["$scope","FileManager"],angular.module("bmsApp").controller("DepartmentsMainCtrl",DepartmentsMainCtrl),DepartmentsAllCtrl.$inject=["$scope","departments"],DepartmentsAllCtrl.resolve={departments:["Department",function(a){return a.query().$promise}]},angular.module("bmsApp").controller("DepartmentsAllCtrl",DepartmentsAllCtrl),DepartmentsCreateCtrl.$inject=["$scope","Department","Alert","$state"],angular.module("bmsApp").controller("DepartmentsCreateCtrl",DepartmentsCreateCtrl),DepartmentsEditCtrl.$inject=["$scope","department","users","permissions","Alert","$state"],DepartmentsEditCtrl.resolve={department:["Department","$stateParams",function(a,b){return a.get({id:b.id}).$promise}],users:["User",function(a){return a.query().$promise}],permissions:["Permission",function(a){return a.all()}]},angular.module("bmsApp").controller("DepartmentsEditCtrl",DepartmentsEditCtrl),DepartmentsShowCtrl.$inject=["$scope","department","users","permissions"],DepartmentsShowCtrl.resolve={department:["Department","$stateParams",function(a,b){return a.get({id:b.id}).$promise}],users:["User","department",function(a,b){return a.query({department_id:b.id}).$promise}],permissions:["Permission",function(a){return a.all()}]},angular.module("bmsApp").controller("DepartmentsShowCtrl",DepartmentsShowCtrl),ProductCategoriesMainCtrl.$inject=["$scope","FileManager"],angular.module("bmsApp").controller("ProductCategoriesMainCtrl",ProductCategoriesMainCtrl),ProductCategoriesAllCtrl.$inject=["$scope","productCategories"],ProductCategoriesAllCtrl.resolve={productCategories:["ProductCategory",function(a){return a.query().$promise}]},angular.module("bmsApp").controller("ProductCategoriesAllCtrl",ProductCategoriesAllCtrl),ProductCategoriesCreateCtrl.$inject=["$scope","ProductCategory","Alert","$state"],angular.module("bmsApp").controller("ProductCategoriesCreateCtrl",ProductCategoriesCreateCtrl),ProductCategoriesEditCtrl.$inject=["$scope","productCategory","ImageUpload","Alert","$state","FileManager"],ProductCategoriesEditCtrl.resolve={productCategory:["ProductCategory","$stateParams",function(a,b){return a.get({id:b.id}).$promise}]},angular.module("bmsApp").controller("ProductCategoriesEditCtrl",ProductCategoriesEditCtrl),ProductCategoriesShowCtrl.$inject=["$scope","productCategory"],ProductCategoriesShowCtrl.resolve={productCategory:["ProductCategory","$stateParams",function(a,b){return a.get({id:b.id}).$promise}]},angular.module("bmsApp").controller("ProductCategoriesShowCtrl",ProductCategoriesShowCtrl),ServiceCategoriesMainCtrl.$inject=["$scope","FileManager"],angular.module("bmsApp").controller("ServiceCategoriesMainCtrl",ServiceCategoriesMainCtrl),ServiceCategoriesAllCtrl.$inject=["$scope","serviceCategories"],ServiceCategoriesAllCtrl.resolve={serviceCategories:["ServiceCategory",function(a){return a.query().$promise}]},angular.module("bmsApp").controller("ServiceCategoriesAllCtrl",ServiceCategoriesAllCtrl),ServiceCategoriesCreateCtrl.$inject=["$scope","ServiceCategory","Alert","$state"],angular.module("bmsApp").controller("ServiceCategoriesCreateCtrl",ServiceCategoriesCreateCtrl),ServiceCategoriesEditCtrl.$inject=["$scope","serviceCategory","ImageUpload","Alert","$state","FileManager"],ServiceCategoriesEditCtrl.resolve={serviceCategory:["ServiceCategory","$stateParams",function(a,b){return a.get({id:b.id}).$promise}]},angular.module("bmsApp").controller("ServiceCategoriesEditCtrl",ServiceCategoriesEditCtrl),ServiceCategoriesShowCtrl.$inject=["$scope","serviceCategory"],ServiceCategoriesShowCtrl.resolve={serviceCategory:["ServiceCategory","$stateParams",function(a,b){return a.get({id:b.id}).$promise}]},angular.module("bmsApp").controller("ServiceCategoriesShowCtrl",ServiceCategoriesShowCtrl),SliderItemsMainCtrl.$inject=["$scope","FileManager","sliders"],SliderItemsMainCtrl.resolve={sliders:["Slider",function(a){return a.query().$promise}]},angular.module("bmsApp").controller("SliderItemsMainCtrl",SliderItemsMainCtrl),SliderItemsAllCtrl.$inject=["$scope","sliderItems"],SliderItemsAllCtrl.resolve={sliderItems:["SliderItem",function(a){return a.query().$promise}]},angular.module("bmsApp").controller("SliderItemsAllCtrl",SliderItemsAllCtrl),SliderItemsCreateCtrl.$inject=["$scope","SliderItem","Alert","$state"],angular.module("bmsApp").controller("SliderItemsCreateCtrl",SliderItemsCreateCtrl),SliderItemsEditCtrl.$inject=["$scope","sliderItem","ImageUpload","FileManager","Alert","$state"],SliderItemsEditCtrl.resolve={sliderItem:["SliderItem","$stateParams",function(a,b){return a.get({id:b.id}).$promise}]},angular.module("bmsApp").controller("SliderItemsEditCtrl",SliderItemsEditCtrl),SliderItemsShowCtrl.$inject=["$scope","sliderItem"],SliderItemsShowCtrl.resolve={sliderItem:["SliderItem","$stateParams",function(a,b){return a.get({id:b.id}).$promise}]},angular.module("bmsApp").controller("SliderItemsShowCtrl",SliderItemsShowCtrl),ContactDetailsMainCtrl.$inject=["$scope"],angular.module("bmsApp").controller("ContactDetailsMainCtrl",ContactDetailsMainCtrl),ContactDetailsCreateCtrl.$inject=["$scope","contactDetail","Alert","$state"],ContactDetailsCreateCtrl.resolve={contactDetail:["ContactDetail",function(a){var b=function(){return a.save({}).$promise};return a.query().$promise.then(function(a){return console.log("here"),0==a.length?b():a[0]})}]},angular.module("bmsApp").controller("ContactDetailsCreateCtrl",ContactDetailsCreateCtrl),InfoSlidersMainCtrl.$inject=["$scope"],angular.module("bmsApp").controller("InfoSlidersMainCtrl",InfoSlidersMainCtrl),InfoSlidersAllCtrl.$inject=["$scope","infoSliders"],InfoSlidersAllCtrl.resolve={infoSliders:["InfoSlider",function(a){return a.query().$promise}]},angular.module("bmsApp").controller("InfoSlidersAllCtrl",InfoSlidersAllCtrl),InfoSlidersCreateCtrl.$inject=["$scope","InfoSlider","Alert","$state"],angular.module("bmsApp").controller("InfoSlidersCreateCtrl",InfoSlidersCreateCtrl),InfoSlidersEditCtrl.$inject=["$scope","infoSlider","ImageUpload","FileManager","Alert","$state"],InfoSlidersEditCtrl.resolve={infoSlider:["InfoSlider","$stateParams",function(a,b){return a.get({id:b.id}).$promise}]},angular.module("bmsApp").controller("InfoSlidersEditCtrl",InfoSlidersEditCtrl),InfoSlidersShowCtrl.$inject=["$scope","infoSlider"],InfoSlidersShowCtrl.resolve={infoSlider:["InfoSlider","$stateParams",function(a,b){return a.get({id:b.id}).$promise}]},angular.module("bmsApp").controller("InfoSlidersShowCtrl",InfoSlidersShowCtrl),ProductsMainCtrl.$inject=["$scope","FileManager","categories"],ProductsMainCtrl.resolve={categories:["ProductCategory",function(a){return a.query().$promise}]},angular.module("bmsApp").controller("ProductsMainCtrl",ProductsMainCtrl),ProductsAllCtrl.$inject=["$scope","products"],ProductsAllCtrl.resolve={products:["Product",function(a){return a.query().$promise}]},angular.module("bmsApp").controller("ProductsAllCtrl",ProductsAllCtrl),ProductsCreateCtrl.$inject=["$scope","Product","Alert","$state"],angular.module("bmsApp").controller("ProductsCreateCtrl",ProductsCreateCtrl),ProductsEditCtrl.$inject=["$scope","product","ImageUpload","Alert","$state"],ProductsEditCtrl.resolve={product:["Product","$stateParams",function(a,b){return a.get({id:b.id}).$promise}]},angular.module("bmsApp").controller("ProductsEditCtrl",ProductsEditCtrl),ProductsShowCtrl.$inject=["$scope","product"],ProductsShowCtrl.resolve={product:["Product","$stateParams",function(a,b){return a.get({id:b.id}).$promise}]},angular.module("bmsApp").controller("ProductsShowCtrl",ProductsShowCtrl),ServicesMainCtrl.$inject=["$scope","FileManager","categories"],ServicesMainCtrl.resolve={categories:["ServiceCategory",function(a){return a.query().$promise}]},angular.module("bmsApp").controller("ServicesMainCtrl",ServicesMainCtrl),ServicesAllCtrl.$inject=["$scope","services"],ServicesAllCtrl.resolve={services:["Service",function(a){return a.query().$promise}]},angular.module("bmsApp").controller("ServicesAllCtrl",ServicesAllCtrl),ServicesCreateCtrl.$inject=["$scope","Service","Alert","$state"],angular.module("bmsApp").controller("ServicesCreateCtrl",ServicesCreateCtrl),ServicesEditCtrl.$inject=["$scope","service","ImageUpload","Alert","$state"],ServicesEditCtrl.resolve={service:["Service","$stateParams",function(a,b){return a.get({id:b.id}).$promise}]},angular.module("bmsApp").controller("ServicesEditCtrl",ServicesEditCtrl),ServicesShowCtrl.$inject=["$scope","service"],ServicesShowCtrl.resolve={service:["Service","$stateParams",function(a,b){return a.get({id:b.id}).$promise}]},angular.module("bmsApp").controller("ServicesShowCtrl",ServicesShowCtrl),ProjectsMainCtrl.$inject=["$scope"],angular.module("bmsApp").controller("ProjectsMainCtrl",ProjectsMainCtrl),ProjectsAllCtrl.$inject=["$scope","projects"],ProjectsAllCtrl.resolve={projects:["Project",function(a){return a.query().$promise}]},angular.module("bmsApp").controller("ProjectsAllCtrl",ProjectsAllCtrl),ProjectsCreateCtrl.$inject=["$scope","Project","Alert","$state"],angular.module("bmsApp").controller("ProjectsCreateCtrl",ProjectsCreateCtrl),ProjectsEditCtrl.$inject=["$scope","project","ImageUpload","Alert","$state"],ProjectsEditCtrl.resolve={project:["Project","$stateParams",function(a,b){return a.get({id:b.id}).$promise}]},angular.module("bmsApp").controller("ProjectsEditCtrl",ProjectsEditCtrl),ProjectsShowCtrl.$inject=["$scope","project"],ProjectsShowCtrl.resolve={project:["Project","$stateParams",function(a,b){return a.get({id:b.id}).$promise}]},angular.module("bmsApp").controller("ProjectsShowCtrl",ProjectsShowCtrl),SitepagesMainCtrl.$inject=["$scope"],SitepagesMainCtrl.resolve={},angular.module("bmsApp").controller("SitepagesMainCtrl",SitepagesMainCtrl),SitepagesAllCtrl.$inject=["$scope","sitepages"],SitepagesAllCtrl.resolve={sitepages:["Sitepage",function(a){return a.query().$promise}]},angular.module("bmsApp").controller("SitepagesAllCtrl",SitepagesAllCtrl),SitepagesCreateCtrl.$inject=["$scope","Sitepage","Alert","$state"],angular.module("bmsApp").controller("SitepagesCreateCtrl",SitepagesCreateCtrl),SitepagesEditCtrl.$inject=["$scope","sitepage","ImageUpload","Alert","$state","FileManager"],SitepagesEditCtrl.resolve={sitepage:["Sitepage","$stateParams",function(a,b){return a.get({id:b.id}).$promise}]},angular.module("bmsApp").controller("SitepagesEditCtrl",SitepagesEditCtrl),SitepagesShowCtrl.$inject=["$scope","sitepage"],SitepagesShowCtrl.resolve={sitepage:["Sitepage","$stateParams",function(a,b){return a.get({id:b.id}).$promise}]},angular.module("bmsApp").controller("SitepagesShowCtrl",SitepagesShowCtrl),NewsMainCtrl.$inject=["$scope"],angular.module("bmsApp").controller("NewsMainCtrl",NewsMainCtrl),NewsAllCtrl.$inject=["$scope","news"],NewsAllCtrl.resolve={news:["News",function(a){return a.query().$promise}]},angular.module("bmsApp").controller("NewsAllCtrl",NewsAllCtrl),NewsCreateCtrl.$inject=["$scope","News","Alert","$state"],angular.module("bmsApp").controller("NewsCreateCtrl",NewsCreateCtrl),NewsEditCtrl.$inject=["$scope","news","ImageUpload","Alert","$state"],NewsEditCtrl.resolve={news:["News","$stateParams",function(a,b){return a.get({id:b.id}).$promise}]},angular.module("bmsApp").controller("NewsEditCtrl",NewsEditCtrl),NewsShowCtrl.$inject=["$scope","news"],NewsShowCtrl.resolve={news:["News","$stateParams",function(a,b){return a.get({id:b.id}).$promise}]},angular.module("bmsApp").controller("NewsShowCtrl",NewsShowCtrl),BranchesMainCtrl.$inject=["$scope"],angular.module("bmsApp").controller("BranchesMainCtrl",BranchesMainCtrl),BranchesAllCtrl.$inject=["$scope","branches"],BranchesAllCtrl.resolve={branches:["Branch",function(a){return a.query().$promise}]},angular.module("bmsApp").controller("BranchesAllCtrl",BranchesAllCtrl),BranchesCreateCtrl.$inject=["$scope","Branch","Alert","$state"],angular.module("bmsApp").controller("BranchesCreateCtrl",BranchesCreateCtrl),BranchesEditCtrl.$inject=["$scope","branch","ImageUpload","Alert","$state","$timeout"],BranchesEditCtrl.resolve={branch:["Branch","$stateParams",function(a,b){return a.get({id:b.id}).$promise}]},angular.module("bmsApp").controller("BranchesEditCtrl",BranchesEditCtrl),BranchesShowCtrl.$inject=["$scope","branch"],BranchesShowCtrl.resolve={branch:["Branch","$stateParams",function(a,b){return a.get({id:b.id}).$promise}]},angular.module("bmsApp").controller("BranchesShowCtrl",BranchesShowCtrl),ContactEmailsMainCtrl.$inject=["$scope"],angular.module("bmsApp").controller("ContactEmailsMainCtrl",ContactEmailsMainCtrl),ContactEmailsCreateCtrl.$inject=["$scope","ContactEmail","contactEmails","Alert","$state"],ContactEmailsCreateCtrl.resolve={contactEmails:["ContactEmail",function(a){return a.query().$promise}]},angular.module("bmsApp").controller("ContactEmailsCreateCtrl",ContactEmailsCreateCtrl);